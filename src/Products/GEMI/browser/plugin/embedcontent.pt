<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="Products.GEMI" >
    <head>
        <title i18n:translate="">Embed Content</title>
        <script type="text/javascript" src="../tiny_mce_popup.js"></script>
        <script type="text/javascript" src="../utils/mctabs.js"></script>
        <script type="text/javascript" src="../utils/form_utils.js"></script>
        <script type="text/javascript" src="../++resource++Products.GEMI.plugin/embedcontent.js"></script>
        <link rel="stylesheet" type="text/css" href="../++resource++Products.GEMI.plugin/embedcontent.css" />
    </head>
    <body id="embedcontent" class="icons-on">
        <div class="dialog-wrapper" id="content">
            <div class="content-breadcrumbs" id="content-breadcrumbs">
                <tal:block tal:repeat="crumb view/crumbs">
                    <a 
                        tal:content="crumb/Title"
                        tal:attributes="
                            href string:#;
                            data-context python: '/'.join(crumb.getPhysicalPath());
                            data-url crumb/absolute_url;
                            data-isf crumb/isPrincipiaFolderish
                    " /> &raquo;
                </tal:block>
            </div>
 
            <div class="content-listing">
                <form action="#" method="get"
                      tal:define="batch view/contents"
                      tal:condition="batch"
                      tal:attributes="action string:#; method string:get">
                    
                    <ul id="content-items-listing" ondblclick="ecBrowserDialog.dblClick">
                        <tal:block tal:repeat="item batch">
                            <li tal:define="
                                item_url item/getURL;
                                item_path item/getPath;
                                item_id item/getId;
                                item_title item/Title;
                                item_type item/portal_type;
                                item_type_class python:'contenttype-' + view.normalizeString(item_type);
                                item_wf_state item/review_state;
                                item_wf_state_class python:'state-' + view.normalizeString(item_wf_state)">

                                <label class="label summary">
                                    <input type="radio" name="content" tal:attributes="value item_path" /> 
                                    <span
                                      tal:content="item_title"
                                      tal:attributes="
                                        class string:$item_type_class $item_wf_state_class portal_content no_selection;
                                        data-context item_path;
                                        data-url item_url;
                                        data-isf item/isPrincipiaFolderish" />
                                </label>


                            </li>
                        </tal:block>
                    </ul>
                    
                    <!-- Navigation -->
                    <!-- <div metal:use-macro="here/batch_macros/macros/navigation" /> -->
                    
                </form>
            </div>

            <form onsubmit="ecBrowserDialog.insert();return false;" action="#">
                <div class="mceActionPanel formControls">
                    <span class="actionButtons">
                        <input type="submit" id="insert" class="context" name="insert" value="Insert" i18n:attributes="value" />
                        <input type="button" id="cancel" class="standalone" name="cancel" value="Cancel" i18n:attributes="value" onclick="tinyMCEPopup.close();" />
                    </span>
                </div>
            </form>
        </div>
    </body>
</html>

