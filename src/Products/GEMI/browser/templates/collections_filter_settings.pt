<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="Products.GEMI">

<body>
  <div metal:fill-slot="main"
       tal:define="
            global props python:container.portal_properties;
        ">

    <h1 i18n:translate="heading_collection_filter_settings" class="documentFirstHeading"> Collection Filter Settings </h1>
    <p i18n:translate="desc_collection_filter_settings" class="documentDescription">Configure the settings of the filter to be shown when you select the "Filter View" from the Display</p>

    <dl tal:condition="python: not view.isValid" class="portalMessage error">
        <dt i18n:translate="error" >Error</dt>
        <dd i18n:translate="desc_not_valid_view"> This view is not valid for this type of collection</dd>
    </dl> 

    <dl tal:condition="view/statusMessage"
        tal:attributes="class view/statusMessage/klass">
        <dt tal:condition="view/statusMessage/title" tal:content="view/statusMessage/title" />
        <dd tal:condition="view/statusMessage/message" tal:content="view/statusMessage/message" />
    </dl>

    <form action=""
          name="collection_filter_settings"
          method="post"
          tal:condition="python: view.isValid"
          tal:attributes="action string:${here/absolute_url}/@@filter_settings">


        <fieldset>

            <div class="checkbox">
                <label><input name="show_collection_filter" type="checkbox" value="1" tal:attributes="checked python: view.getSetting('show_collection_filter')"> <span i18n:translate="show_filter">Show filter</span></label>
                <span i18n:translate="show_filter_help" class="help-block">Show filter in 'Filter view' of collection</span>
            </div>
        </fieldset>
        
        <hr />
        <div class="formControls">
                <input class="context" type="submit" name="form.submit.button" value="Save" i18n:attributes="value label_save"  i18n:domain="plone" />
                <input class="standalone" type="submit" name="form.cancel.button" value="Cancel" i18n:attributes="value label_cancel" i18n:domain="plone"/>
        </div>
        <input type="hidden" name="form.submitted" value="1" />

    </form>

  </div>
</body>

</html>

